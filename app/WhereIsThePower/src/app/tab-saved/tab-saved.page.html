<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Saved Places
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngIf="isLoggedIn; else elseIsloggedIn">
    <ion-row>
      <ion-col size="8" offset="2" size-md="6" offset-md="3" size-xl="4" offset-xl="4">
        <ion-img
            src="assets/phone.svg"
            alt="Address on phone Illustration"
            class="ion-padding"
          >
          </ion-img>  
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12" size-md="6" offset-md="3" size-xl="4" offset-xl="4" class="ion-text-center">
        <h3>Saved places is only available to registered users. </h3>
      </ion-col>
      <ion-col size="12" size-md="6" offset-md="3" size-xl="4" offset-xl="4">
        <ion-button (click)="gotoProfileRoute()" expand="block">Go to Profile</ion-button>
      </ion-col>
    </ion-row>
  </div>
  <ng-template #elseIsloggedIn>  
    <ion-grid>
      <!-- SEARCH BAR -->
      <ion-row class="justify-content-center">
        <ion-col class="searchbar-container">
          <ion-searchbar animated="true" placeholder="Search for a place..." (ionInput)="onSearchInput($event)" (keyup.enter)="onSearchInput($event)" (ionClear)="onSearchBarClear()" (ionFocus)="onSearchBarFocus()" #searchBar></ion-searchbar>
          <ion-list *ngIf="queryLength > 0 && showResultsList">
            <ion-item *ngFor="let result of searchResults"   button>
              <ion-icon slot="start" name="{{ getFeatureType(result.place_type[0]) }}"></ion-icon>
              <ion-label>
                <h3><strong>{{ result.text }}</strong></h3>
                <ion-note>{{ result.place_name }}</ion-note>
              </ion-label>
              <!-- BOOKMARK -->
              <div *ngIf="isPlaceSaved(result) === false; else elseBlock">
                <!-- ADD -->
                    <ion-icon color="success" style="font-size: 24px;" slot="icon-only" name="bookmark-outline"></ion-icon>
              </div>
              <ng-template #elseBlock>
                <div>
                  <!-- DELETE -->
                    <ion-icon slot="icon-only" name="bookmark"></ion-icon>
                </div>
              </ng-template>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ng-template>  
</ion-content>


