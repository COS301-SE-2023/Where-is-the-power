
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      My Profile
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngIf="!isLoggedIn; else UserLoggedIn">
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="11" offset-md="0.5" size-xl="10" offset-xl="1">
        <ion-img
            src="assets/TrafficJam.svg"
            alt="Traffic Jam Illustration"
            class="ion-padding"
          >
          </ion-img>  
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12" size-md="11" offset-md="0.5" size-xl="10" offset-xl="1">
          <ion-toolbar>
            <ion-list>
              <ion-item button detail="true" (click)="showLoginComponent()">
                <ion-icon name="log-in-outline" class="ion-padding-end"></ion-icon>
                <ion-label>Login to my account</ion-label>
              </ion-item>
              <ion-item button detail="true" (click)="showSignupComponent()">
                <ion-icon name="person-add-outline" class="ion-padding-end"></ion-icon>
                <ion-label>Sign up for an account</ion-label>
              </ion-item>
            </ion-list>
          </ion-toolbar>
        </ion-col>
        <ion-col size="12" size-md="11" offset-md="0.5" size-xl="10" offset-xl="1">
          <ion-item>
            <ion-label color="primary" style="text-align: center;">Terms of Service</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid> 
  </div>

  <ng-template #UserLoggedIn>
    <ion-row class="ion-padding-top">
      <ion-avatar class="avatar">
        <img [src]="userInitialDataURL" alt="User Initial" />
      </ion-avatar>
    </ion-row>
    <ion-text class="ion-text-center">
      <h1> Welcome {{user?.firstName}} !</h1>
    </ion-text>
    <ion-list>
      <ion-item button>
        <ion-icon name="moon-outline" class="ion-padding-end"></ion-icon>
        <ion-select #systemTheme
                    label="Theme" 
                    interface="popover"
                    toggleIcon="add"
                    expandedIcon="remove"
                    aria-label="Theme"
                    placeholder="Select Theme"
                    (ionChange)="toggleTheme(systemTheme.value)">
          <ion-select-option value="light">Light</ion-select-option>
          <ion-select-option value="dark" >Dark</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item button (click)="logout()">
        <ion-icon name="log-out-outline" class="ion-padding-end"></ion-icon>
        <ion-label>Logout</ion-label>
      </ion-item>
    </ion-list>
  </ng-template>
</ion-content>
